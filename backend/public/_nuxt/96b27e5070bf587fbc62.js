(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{186:function(t,e,s){"use strict";e.a={nameRules:[function(t){return!!t||"请填写你的名字"},function(t){return t?/^(\w|[\u4e00-\u9fa5])+$/.test(t)||"请不要包含特殊字符":""},function(t){return t?t.length<=10||"名字过长":""}],phoneRules:[function(t){return!!t||"请填写你的电话号码"},function(t){return t?/^(0|86|17951)?(13[0-9]|15[012356789]|166|17[3678]|18[0-9]|14[57])[0-9]{8}$/.test(t)||"手机号码格式不正确":""}],locationRules:[function(t){return!!t||"地址不能为空"}],dateRules:[function(t){return!!t||"日期不能为空"}],timeRules:[function(t){return!!t||"时刻不能为空"}]}},191:function(t,e,s){var a=s(213);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,s(16).default)("704aa7d0",a,!0,{})},212:function(t,e,s){"use strict";var a=s(191);s.n(a).a},213:function(t,e,s){(t.exports=s(15)(!1)).push([t.i,"",""])},255:function(t,e,s){"use strict";s.r(e);s(35);var a=s(186),i={name:"AdminShop",layout:"admin",data:function(){return{rules:a.a,valid:!0,breadcrumbList:[{text:"主页",disabled:!1,href:"/admin"},{text:"商家管理",disabled:!0,href:"/admin/shop"}],dialog:!1,headers:[{text:"ID",align:"left",sortable:!0,value:"id"},{text:"商家名称",align:"left",value:"shopName"},{text:"商家地址",align:"left",value:"shopAddress"},{text:"合作时间",align:"left",value:"createdTime"},{text:"商家状态",align:"left",value:"shopState"},{text:"备注",align:"left",value:"remarks"},{text:"操作",align:"left",value:"shopName",sortable:!1}],shopList:[{id:159,shopName:"海底捞",shopAddress:"地址地址",startDate:"2018-12-31",startTime:"12:30:30",shopState:!0,remarks:"备注备注备注备注备注备注"},{id:1,shopName:"海底捞",shopAddress:"地址地址",startDate:"2018-12-31",startTime:"12:30:30",shopState:!0,remarks:"备注备注备注备注备注备注"},{id:2,shopName:"海底捞",shopAddress:"地址地址",startDate:"2018-12-31",startTime:"12:30:30",shopState:!0,remarks:"备注备注备注备注备注备注"},{id:3,shopName:"海底捞",shopAddress:"地址地址",startDate:"2018-12-31",startTime:"12:30:30",shopState:!0,remarks:"备注备注备注备注备注备注"},{id:4,shopName:"海底捞",shopAddress:"地址地址",startDate:"2018-12-31",startTime:"12:30:30",shopState:!0,remarks:"备注备注备注备注备注备注"},{id:5,shopName:"海底捞",shopAddress:"地址地址",startDate:"2018-12-31",startTime:"12:30:30",shopState:!0,remarks:"备注备注备注备注备注备注"},{id:6,shopName:"海底捞",shopAddress:"地址地址",startDate:"2018-12-31",startTime:"12:30:30",shopState:!0,remarks:"备注备注备注备注备注备注"},{id:7,shopName:"海底捞",shopAddress:"地址地址",startDate:"2018-12-31",startTime:"12:30:30",shopState:!0,remarks:"备注备注备注备注备注备注"}],editedIndex:-1,editedItem:{shopName:"",shopAddress:"",startDate:"",startTime:"",shopState:!1,remarks:""},defaultItem:{name:"",shopAddress:"",startDate:"",startTime:"",shopState:!1,remarks:""},date:null,dateMenu:!1,timeMenu:!1,search:""}},computed:{formTitle:function(){return-1===this.editedIndex?"添加新商家":"修改商家"}},watch:{dialog:function(t){t||this.close()}},methods:{editItem:function(t){this.editedIndex=this.shopList.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){var e=this.shopList.indexOf(t);confirm("确定要删除 ".concat(t.shopName," ?"))&&this.shopList.splice(e,1)},close:function(){var t=this;this.dialog=!1,setTimeout(function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1},300),this.$refs.form.reset(),this.valid=!0},save:function(){this.editedIndex>-1?Object.assign(this.shopList[this.editedIndex],this.editedItem):this.shopList.push(this.editedItem),this.close()},saveDate:function(t){this.$refs.dateMenu.save(t)}}},r=(s(212),s(4)),l=Object(r.a)(i,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-breadcrumbs",{attrs:{items:t.breadcrumbList,divider:">"}}),t._v(" "),s("v-card",[s("v-toolbar",{attrs:{flat:"",color:"white"}},[s("v-toolbar-title",[t._v("商家管理")]),t._v(" "),s("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),t._v(" "),s("v-spacer"),t._v(" "),s("v-dialog",{attrs:{"max-width":"1200px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("添加新商家\n        ")]),t._v(" "),s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),t._v(" "),s("v-card-text",[s("v-container",{attrs:{"grid-list-md":""}},[s("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-text-field",{attrs:{rules:t.rules.nameRules,"append-icon":"shopping_cart",label:"商家名称"},model:{value:t.editedItem.shopName,callback:function(e){t.$set(t.editedItem,"shopName",e)},expression:"editedItem.shopName"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-text-field",{attrs:{rules:t.rules.locationRules,"append-icon":"gps_fixed",label:"商家地址"},model:{value:t.editedItem.shopAddress,callback:function(e){t.$set(t.editedItem,"shopAddress",e)},expression:"editedItem.shopAddress"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-menu",{ref:"dateMenu",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},model:{value:t.dateMenu,callback:function(e){t.dateMenu=e},expression:"dateMenu"}},[s("v-text-field",{attrs:{slot:"activator",rules:t.rules.dateRules,label:"合作时间(日期)","append-icon":"event",readonly:""},slot:"activator",model:{value:t.editedItem.startDate,callback:function(e){t.$set(t.editedItem,"startDate",e)},expression:"editedItem.startDate"}}),t._v(" "),s("v-date-picker",{ref:"picker",attrs:{locale:"zh-cn",min:"1950-01-01"},on:{change:function(e){t.saveDate(t.editedItem.startDate)}},model:{value:t.editedItem.startDate,callback:function(e){t.$set(t.editedItem,"startDate",e)},expression:"editedItem.startDate"}})],1)],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-menu",{ref:"timeMenu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.editedItem.startTime,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){t.$set(t.editedItem,"startTime",e)}},model:{value:t.timeMenu,callback:function(e){t.timeMenu=e},expression:"timeMenu"}},[s("v-text-field",{attrs:{slot:"activator",rules:t.rules.timeRules,label:"合作时间(时刻)","append-icon":"access_time",readonly:""},slot:"activator",model:{value:t.editedItem.startTime,callback:function(e){t.$set(t.editedItem,"startTime",e)},expression:"editedItem.startTime"}}),t._v(" "),t.timeMenu?s("v-time-picker",{attrs:{locale:"zh-cn","full-width":""},on:{change:function(e){t.$refs.timeMenu.save(t.editedItem.startTime)}},model:{value:t.editedItem.startTime,callback:function(e){t.$set(t.editedItem,"startTime",e)},expression:"editedItem.startTime"}}):t._e()],1)],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-text-field",{attrs:{"append-icon":"book",label:"备注"},model:{value:t.editedItem.remarks,callback:function(e){t.$set(t.editedItem,"remarks",e)},expression:"editedItem.remarks"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-switch",{attrs:{label:"商家状态"},model:{value:t.editedItem.shopState,callback:function(e){t.$set(t.editedItem,"shopState",e)},expression:"editedItem.shopState"}})],1)],1)],1)],1)],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{flat:""},on:{click:t.close}},[t._v("关闭\n            ")]),t._v(" "),s("v-btn",{attrs:{disabled:!t.valid,color:"red",flat:""},on:{click:t.save}},[t._v("保存\n            ")])],1)],1)],1)],1),t._v(" "),s("v-content",{staticClass:"px-4"},[s("v-text-field",{attrs:{"append-icon":"search",label:"搜索","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.shopList,search:t.search,"rows-per-page-items":[5,10,30],"rows-per-page-text":"每页行数"},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",[t._v(t._s(e.item.id))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.shopName))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.shopAddress))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.startDate+" -- "+e.item.startTime))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.shopState?"合作中":"合作结束"))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.remarks))]),t._v(" "),s("td",{staticClass:"justify-center layout px-0"},[s("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(s){t.editItem(e.item)}}},[t._v("\n            edit\n          ")]),t._v(" "),s("v-icon",{attrs:{small:""},on:{click:function(s){t.deleteItem(e.item)}}},[t._v("\n            delete\n          ")])],1)]}}])},[s("template",{slot:"no-data"},[s("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[t._v("\n          暂无商家 :(\n        ")])],1),t._v(" "),s("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v("\n        没有找到"+t._s(t.search)+"\n      ")])],2)],1)],1)},[],!1,null,"9a57157a",null);l.options.__file="index.vue";e.default=l.exports}}]);